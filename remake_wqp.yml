packages:
  - yaml
  - dataRetrieval
  - dplyr
  - sbtools

sources:
  - scripts/lake_summary_nldas.R
  - scripts/getWQPdata.R
  
targets:
  all: 
    depends: 
      - data/temperature_data/wqp_temperature_data_status.txt
      - data/secchi_data/wqp_secchi_data_status.txt
      
  nhd:
    command: load_config("configs/NHD_config.yml")
  wqp.config:
    command: load_config("configs/wqp_config.yml")
  var.map:
    command: get_var_map(wqp.config)
  
  secchi:
    command: calc_post_files(wqp.config, nhd, target_name)
  
  temperature:
    command: calc_post_files(wqp.config, nhd, target_name)

  data/temperature_data/wqp_temperature_data_status.txt:
    command: getWQPdata(temperature, var.map)

  data/secchi_data/wqp_secchi_data_status.txt:
    command: getWQPdata(secchi, var.map)

